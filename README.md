# Go Position Evaluation Trainer - Flutter App

Cross-platform mobile and web application for training Go territory counting skills.

The inspiration is taken from antonTobi: https://count.antontobi.com/

The app is generated by AI. View it in your browser under: https://siasio.github.io/go-eval/

...or grab an Android app from the Releases tab.

## Features

- **Multiple Dataset Support**: Train on different Go position datasets:
  - 19x19 and 9x9 Final positions (positions are picked in a way that both area and territory counting give the same score. Komi=7.0, numbers of prisoners is equal for both colors)
  - 19x19 Midgame positions (estimate who's ahead)
- **Animated Timer Bar**: Visual countdown with color changes (green → orange → red)
- **Interactive Go Board**: Supports multiple board sizes (9x9, 19x19) with:
  - Realistic stone rendering
  - Region highlighting and cropping (coming in the future dataset types)
  - Move sequence visualization (coming in the future dataset types)
  - Last move indicators (for the midgame dataset)
- **Context-Aware Result Buttons**: Dynamic button options based on dataset type and scoring
- **Keyboard Shortcuts**: Arrow key support for quick selection
- **Configuration System**: Per-dataset customizable settings for timing and scoring thresholds
- **Statistics Tracking**: View dataset information and position statistics
- **Cross-Platform**: Runs on Android, Web, and Desktop

## Prerequisites

1. **Install Flutter**: Follow the [Flutter installation guide](https://docs.flutter.dev/get-started/install)
2. **Verify Installation**: Run `flutter doctor` to ensure everything is set up correctly

## Development

### Running the App

```bash
cd app/

# Desktop (fastest for development)
flutter run -d windows   # Windows
flutter run -d macos     # macOS
flutter run -d linux     # Linux

# Web browser
flutter run -d chrome

# Android device/emulator
flutter run
```

### Project Structure

```
app/
├── lib/
│   ├── main.dart                    # App entry point
│   ├── core/                        # Core logic
│   │   ├── dataset_parser.dart      # JSON dataset parsing
│   │   ├── game_result_parser.dart  # Game result parsing
│   │   └── go_logic.dart            # Go game logic
│   ├── models/                      # Data models
│   │   ├── go_position.dart         # Go board position data
│   │   ├── training_position.dart   # Training position data
│   │   ├── dataset_type.dart        # Dataset type enumeration
│   │   ├── dataset_configuration.dart # Configuration model
│   │   ├── scoring_config.dart      # Scoring configuration
│   │   └── game_result_option.dart  # Result option model
│   ├── screens/                     # UI screens
│   │   ├── training_screen.dart     # Main training screen
│   │   ├── settings_screen.dart     # Settings and info screen
│   │   └── configuration_screen.dart # Dataset configuration
│   ├── services/                    # Services layer
│   │   ├── position_manager.dart    # Position management
│   │   ├── position_loader.dart     # Dataset loading
│   │   ├── configuration_manager.dart # Settings management
│   │   └── dataset_preference_manager.dart # User preferences
│   └── widgets/                     # Reusable widgets
│       ├── timer_bar.dart           # Animated countdown timer
│       ├── go_board.dart            # Go board rendering
│       ├── result_buttons.dart      # Basic result buttons
│       ├── context_aware_result_buttons.dart # Smart result buttons
│       ├── game_status_bar.dart     # Status information
│       └── dataset_selector.dart    # Dataset selection widget
├── assets/                          # Bundled datasets
├── test/                           # Unit tests
├── web/                            # Web platform files
├── linux/                          # Linux desktop files
└── pubspec.yaml                    # Dependencies
```

## Data Integration

The app supports multiple ways to load Go position datasets:

### Built-in Datasets
- Pre-bundled datasets are included in `assets/`
- Currently includes 9x9 and 19x19 final positions and 19x19 midgame positions

### Supported Dataset Types
- `final-9x9-area` - Final positions on 9x9 board (KataGo ownership)
- `final-19x19-area` - Final positions on 19x19 board (KataGo ownership)
- `midgame-19x19-estimation` - Midgame positions with territory estimation
- `final-9x9-area-vars` - 9x9 final positions with variations (planned)
- `partial-area` - Partial area analysis (planned)

## Controls

### Mouse/Touch
- **Result Buttons**: Click the appropriate button based on your prediction
- **Settings Button**: Top-right gear icon to access settings

### Keyboard Shortcuts
- **← Left Arrow**: Select White Wins
- **↓ Down Arrow**: Select Draw/Close
- **→ Right Arrow**: Select Black Wins
- **␣ Space Bar**: Pause Auto-Advance to Next Problem

### Configurable Options
- **Timer Duration**: Per-dataset customizable (default varies by type)
- **Scoring Thresholds**: Configure what constitutes a "close" vs "decisive" win
- **Display Duration**: How long to show the correct answer
- **Dataset Selection**: Switch between different training datasets

## Deployment

### Web
```bash
flutter build web
# Deploy dist files from build/web/
```

### Android
```bash
flutter build apk --release
# APK available in build/app/outputs/flutter-apk/
```